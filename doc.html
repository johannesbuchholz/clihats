<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<meta name="author" content="johannesbuchholz@outlook.com">
<title>Welcome to CliHats</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/*! Stylesheet for CodeRay to loosely match GitHub themes | MIT License */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid;opacity:.35;padding:0 .5em 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff!important;background:navy!important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:navy}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:teal}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:teal}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:teal}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword{color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:teal}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Welcome to CliHats</h1>
<div class="details">
<span id="author" class="author">johannesbuchholz@outlook.com</span><br>
<span id="revdate">Version 0.1.0-6-9bb25824-SNAPSHOT</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_get_clihats">Get CliHats</a>
<ul class="sectlevel2">
<li><a href="#_maven">Maven</a></li>
<li><a href="#_gradle">Gradle</a></li>
</ul>
</li>
<li><a href="#_hello_world_clihats">Hello World CliHats</a></li>
<li><a href="#_core_concept">Core concept</a>
<ul class="sectlevel2">
<li><a href="#_commandlineinterface">@CommandLineInterface</a></li>
<li><a href="#_command">@Command</a></li>
<li><a href="#_option">@Option</a>
<ul class="sectlevel3">
<li><a href="#_option_names_and_aliases">Option names and aliases</a></li>
<li><a href="#_option_necessity">Option necessity</a></li>
<li><a href="#_value_mapping">Value mapping</a></li>
<li><a href="#_default_values">Default values</a></li>
</ul>
</li>
<li><a href="#_configuring_help_pages">Configuring help pages</a></li>
<li><a href="#_exception_handling">Exception handling</a></li>
</ul>
</li>
<li><a href="#_use_case_examples">Use case examples</a>
<ul class="sectlevel2">
<li><a href="#_receive_a_username">Receive a username</a></li>
<li><a href="#_receive_a_password">Receive a password</a></li>
<li><a href="#_receive_a_boolean_flag">Receive a boolean flag</a></li>
<li><a href="#_load_file_contents">Load file contents</a></li>
<li><a href="#_receive_a_list_of_string">Receive a list of String</a></li>
</ul>
</li>
<li><a href="#_build_configuration">Build configuration</a>
<ul class="sectlevel2">
<li><a href="#_logging">Logging</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>CliHats is a java library that lets you easily expose functionality of your java code to the command line. Building a command-line interface becomes as simple as putting on a hat.</p>
</div>
<div class="openblock">
<div class="title">CliHats offers</div>
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Declarative and functional API</p>
</li>
<li>
<p>Automatic selection of commands based on user inputs</p>
</li>
<li>
<p>Option parsing</p>
</li>
<li>
<p>Automatically generated help pages and error messages</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_get_clihats">Get CliHats</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Clihats is available on Maven Central. Depending on your build tool, add one of the following dependency declarations to your project.</p>
</div>
<div class="sect2">
<h3 id="_maven">Maven</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>io.github.johannesbuchholz<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>clihats<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>0.1.0-6-9bb25824-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gradle">Gradle</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="groovy">implementation <span class="string"><span class="delimiter">'</span><span class="content">io.github.johannesbuchholz:clihats:0.1.0-6-9bb25824-SNAPSHOT</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to use CliHats' annotation processor, you may add the following to your dependency section</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="groovy">annotationProcessor <span class="string"><span class="delimiter">'</span><span class="content">io.github.johannesbuchholz:clihats:0.1.0-6-9bb25824-SNAPSHOT</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hello_world_clihats">Hello World CliHats</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this example we use CliHats to expose multiple existing methods to the command line.</p>
</div>
<div class="paragraph">
<p>Assume the below "Hello, World!" example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="comment">/**
 * A simple &quot;Hello, World!&quot; program to demonstrate the capabilities of CliHats.
 */</span>
<span class="annotation">@CommandLineInterface</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="directive">public</span> <span class="type">class</span> <span class="class">HelloWorldCliHats</span> {

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
        CliHats.get(HelloWorldCliHats.class).execute(args); <i class="conum" data-value="2"></i><b>(2)</b>
    }

    <span class="comment">/**
     * Simply prints &quot;Hello, World!&quot;
     */</span>
    <span class="annotation">@Command</span> <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> sayHello() {
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello, World!</span><span class="delimiter">&quot;</span></span>);
    }

    <span class="comment">/**
     * Prints a greeting to the specified name.
     * @param name the name to greet.
     * @param polite if true, additionally prints &quot;Nice to meet you!&quot;.
     */</span>
    <span class="annotation">@Command</span>
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> sayHelloToPerson(
            <span class="annotation">@Option</span>(necessity = OptionNecessity.REQUIRED) <i class="conum" data-value="4"></i><b>(4)</b>
            <span class="predefined-type">String</span> name,
            <span class="annotation">@Option</span>(flagValue = <span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span>, defaultValue = <span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="5"></i><b>(5)</b>
            <span class="predefined-type">Boolean</span> polite
    ) {
        <span class="predefined-type">System</span>.out.printf(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello, %s!</span><span class="char">\n</span><span class="delimiter">&quot;</span></span>, name);
        <span class="keyword">if</span> (polite)
            <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">Nice to meet you!</span><span class="delimiter">&quot;</span></span>);
    }

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The annotation <code>@CommandLineInterface</code> declares the class as a command-line interface.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The received entry point arguments are passed to the command-line interface we just declared.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The annotation <code>@Command</code> binds <code>sayHello</code> to the first command-line interface in the upwards package tree. In this case this is <code>HelloWorldCliHats</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>This parameter is required and must be supplied on each invocation of possessing command.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The second parameter is a flag-option. The required <code>Boolean</code> type is automatically mapped from the specified input values.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Executing the above program without arguments results in a printed message similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Help for hello-world-cli-hats
A simple "Hello, World!" program to demonstrate the capabilities of CliHats.

Commands:
say-hello           Simply prints "Hello, World!"
say-hello-to-person Prints a greeting to the specified name.</pre>
</div>
</div>
<div class="paragraph">
<p>If we run <code>{"say-hello-to-person", "--help"}</code> we receive a help message like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Help for say-hello-to-person

Synopsis:
say-hello-to-person -n &lt;value&gt; [-p]

Prints a greeting to the specified name.

Parameters:
-n --name   (required) the name to greet.
-p --polite (flag)     if true, additionally prints "Nice to meet you!".</pre>
</div>
</div>
<div class="paragraph">
<p>Running <code>{"say-hello-to-person", "-n", "John", "--polite"}</code> yields</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Hello, John!
Nice to meet you!</pre>
</div>
</div>
<div class="paragraph">
<p>But if we do not pass option <code>-n</code> and run <code>{"say-hello-to-person", "--polite"}</code>, we receive</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">Error running hello-world-cli-hats: Exception during invocation of command say-hello-to-person: Invalid input arguments: Missing required argument Option -n,--name</pre>
</div>
</div>
<div class="paragraph">
<p>The above program is an example mostly using default behaviour. CliHats leaves enough room for custom configuration like parameter names and aliases, value mapping, default values and exception handling.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_core_concept">Core concept</h2>
<div class="sectionbody">
<div class="paragraph">
<p>CliHats implementation is divided into two packages: <code>core</code> and <code>processor</code>. The core-package contains the general domain specific classes for commands and options. The processor-package supplies an annotation processor which ultimately creates the command-line interface represented by annotations present in your "client code". For this, the processor creates code which instantiating objects from the core-package during runtime to resemble the desired command-line interface.</p>
</div>
<div class="paragraph">
<p>In general, CliHats represents a command-line interface by a set of methods. Each method models one task like printing a program version, loading data from a file or sending a web-request. A task may require additional input like a filename, a web-address or credentials. These inputs must be provided by the user via options.</p>
</div>
<div class="paragraph">
<p>Using CliHats, one command-line interface consists of one <code>Commander</code>. The commander possesses a collection of <code>Command</code> objects. Each command is responsible for one task represented by an <code>Instruction</code> and a list of <code>AbstractArgumentParser</code> objects. Argument parsers extract parameters from the command-line arguments and make them available to the command being executed.</p>
</div>
<div class="paragraph">
<p>As an example, the generated Commander of the above "Hello, World!" setup looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code>Commander.forName(&quot;hello-world-cli-hats&quot;)
        .withDescription(&quot;A simple \&quot;Hello, World!\&quot; program to demonstrate the capabilities of CliHats.&quot;)
        .withCommands(
                Command.forName(&quot;say-hello&quot;)
                        .withInstruction(args -&gt; HelloWorldCliHats.sayHello())
                        .withDescription(&quot;Simply prints \&quot;Hello, World!\&quot;&quot;),
                Command.forName(&quot;say-hello-to-person&quot;)
                        .withInstruction(args -&gt; HelloWorldCliHats.sayHelloToPerson((String) args[0], (Boolean) args[1]))
                        .withDescription(&quot;Prints a greeting to the specified name.&quot;)
                        .withParsers(
                                ArgumentParsers.valuedOption(&quot;-n&quot;, &quot;--name&quot;).withRequired(true).withDescription(&quot;the name to greet.&quot;),
                                ArgumentParsers.flagOption(&quot;-p&quot;, &quot;--polite&quot;).withFlagValue(&quot;true&quot;).withDefault(&quot;false&quot;).withMapper(new BooleanMapper()).withDescription(&quot;if true, additionally prints \&quot;Nice to meet you!\&quot;.&quot;)))));</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_commandlineinterface">@CommandLineInterface</h3>
<div class="paragraph">
<p>A class annotated with <code>@CommandLineInterface</code> defines a command-line interface serving as anchor for attaching commands. Per default, the name is set to the hyphenated class name.</p>
</div>
</div>
<div class="sect2">
<h3 id="_command">@Command</h3>
<div class="paragraph">
<p>A <code>public static void</code> method annotated with <code>@Command</code> defines a command. Each command needs to be attached to one command-line interface in order to be executable by CliHats.</p>
</div>
<div class="paragraph">
<p>CliHats automatically attaches commands to the first command-line interface within the upwards package tree of the command containing class. Alternatively, explicit attaching is possible via parameter <code>cli</code>.</p>
</div>
<div class="paragraph">
<p>A command method must not define any primitive parameter.</p>
</div>
<div class="paragraph">
<p>Per default, the command name is equal to the hyphenated name of the annotated method. It is also possible to explicitly set the name using parameter <code>name</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_option">@Option</h3>
<div class="paragraph">
<p>The annotation <code>@Option</code> instructs CliHats to pass arguments from the command line to the annotated method parameter. The Option-annotation only takes effect on methods annotated with <code>@Command</code>. It is not required to declare annotate all method parameter. Parameters without the Option-annotation are set to <code>null</code> whenever the respective command is invoked by CliHats.</p>
</div>
<div class="paragraph">
<p>Invoking a command through CliHats, each registered option parser scans the available command-line arguments and provides, potentially maps found values and passes them to its respective method parameter.</p>
</div>
<div class="paragraph">
<p>CliHats'  parsing of command-line arguments follows to the <a href="https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap12.html">POSIX Utility-Guidelines</a>. Hence, CliHats internally differentiates command-line arguments into "options", "operands" and potential "values" of options and operands. Each method parameter annotated with <code>@Option</code> lets CliHats create one argument parser. The respective parser type depends on the specified annotation parameters. CliHats offers three types of parsers:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Valued option parser</dt>
<dd>
<p>Valued option parsers extract named user defined values like <code>--name "John"</code> or <code>--numbers=1,2,3,4</code>.<br>
This is the default type.</p>
</dd>
<dt class="hdlist1">Flag option parser</dt>
<dd>
<p>Flag option are named switches providing one of two predefined values. Think of something like <code>--dry-run</code> or <code>--verbose</code>.<br>
A flag option parser is assumed if the parameter <code>flagValue</code> is set to a non-empty String.</p>
</dd>
<dt class="hdlist1">Operand parser</dt>
<dd>
<p>Operand parsers extract values from a specific index. Operand values should be supplied last among the command-line arguments. For example, the command <code>mkdir ./tmp</code> takes <code>./tmp</code> as a positional argument from index 0.<br>
An operand is created if the parameter <code>position</code> is set to a non-negative zero-based index.</p>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="_option_names_and_aliases">Option names and aliases</h4>
<div class="paragraph">
<p>Valued and flag option parsers may be named configured to watch out individual names via parameter <code>name</code>. This parameter takes an array of String values and declares which values should be taken from the command-line arguments.<br>
Option names must conform to the following rules:<br>
* Names must start with <code>-</code>.<br>
* Names must not contain any space characters.<br>
* Names must be unique among all option names of a command.</p>
</div>
<div class="paragraph">
<p>POSIX compliant option names consist of only one character and may be grouped behind one <code>-</code>.</p>
</div>
<div class="paragraph">
<p>If <code>name</code> is not set, the option name is automatically set to <code>-</code> plus the first character of the method parameter name. In that case, an alias name is also automatically set to the hyphenated parameter name prefixed with <code>--</code>.</p>
</div>
<div class="paragraph">
<p>For operand parsers, the <code>name</code> parameter must remain empty.</p>
</div>
</div>
<div class="sect3">
<h4 id="_option_necessity">Option necessity</h4>
<div class="paragraph">
<p>Each targeted method parameter possesses a <code>necessity</code> determining CliHats behaviour if the respective parser could not find a value.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>OPTIONAL</code></dt>
<dd>
<p>The default for each parser. Results in the parameter value <code>null</code> if the respective value has not been supplied.</p>
</dd>
<dt class="hdlist1"><code>REQUIRED</code></dt>
<dd>
<p>If set, a missing value aborts the execution with an error message.</p>
</dd>
<dt class="hdlist1"><code>PROMPT</code></dt>
<dd>
<p>Lets CliHats ask for manual user input over the command line in case of a missing value.</p>
</dd>
<dt class="hdlist1"><code>MASKED_PROMPT</code></dt>
<dd>
<p>Provides the same behaviour as <code>PROMPT</code> but hides typed characters.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Using <code>PROMT</code> or <code>MASKED_PROMT</code>, CliHats tries to obtain a console by calling <code>System.console()</code>, which may fail if there is no console available to the running JVM.</p>
</div>
</div>
<div class="sect3">
<h4 id="_value_mapping">Value mapping</h4>
<div class="paragraph">
<p>By default, option parsers provide their values as <code>java.lang.String</code>. If a command method requires other parameter types, a mapper can be specified via the <code>mapper</code> parameter.</p>
</div>
<div class="paragraph">
<p>CliHats is able to recognize a number of commonly used types and will automatically configure a suiting mapper. Currently, CliHats automatically configures mappers for these parameter types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Boolean</code></p>
</li>
<li>
<p><code>Integer</code></p>
</li>
<li>
<p><code>Double</code></p>
</li>
<li>
<p><code>Float</code></p>
</li>
<li>
<p><code>java.math.BigDecimal</code></p>
</li>
<li>
<p><code>java.nio.file.Path</code></p>
</li>
<li>
<p><code>java.time.LocalDate</code></p>
</li>
<li>
<p><code>java.time.LocalDateTime</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Explicitly declaring <code>mapper</code> overrides automatic mapper-deduction.</p>
</div>
<div class="paragraph">
<p>It is noteworthy that a missing non-required option skips value mapping and the respective method parameter is directly set to <code>null</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_default_values">Default values</h4>
<div class="paragraph">
<p>Default values are only relevant for parsers with optional necessity.</p>
</div>
<div class="paragraph">
<p>If a value is missing from the provided command-line arguments, their respective method parameter is set to <code>null</code>. However, it is possible to declare a custom default value by setting the annotation parameter <code>defaultValue</code>. In case of a missing command-line value, the default value is supplied and behaves as if the user had provided that value. In particular, this means that value mapping also applies to default values.</p>
</div>
<div class="paragraph">
<p>For flag options, the parameter <code>flagValue</code> behaves as a primary default value that applies if the respective flag is present. The specified flag value always undergoes value mapping.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_help_pages">Configuring help pages</h3>
<div class="paragraph">
<p>There are two ways to define the content of help pages: Either through javadoc comments or through parameter <code>description</code>. Using the description-parameter takes precedence over javadoc.</p>
</div>
<div class="paragraph">
<p>Javadoc <code>@param</code> tags may be used to conveniently provide descriptions for options of a command.</p>
</div>
<div class="paragraph">
<p>Analogously, use javadoc or the parameter <code>description</code> when defining help pages for a command-line interface declaration.</p>
</div>
<div class="paragraph">
<p>CliHats triggers help printing for command-line interfaces and for commands if the last passed option is equal to <code>--help</code>. Alternatively, passing zero arguments to a command-line interface also calls for help.</p>
</div>
</div>
<div class="sect2">
<h3 id="_exception_handling">Exception handling</h3>
<div class="paragraph">
<p>Using the method <code>execute(String[] args)</code> on the <code>Cli</code> object returned from <code>CliHats.get(Class&lt;?&gt; commandLineInterface)</code> includes CliHats' automatic exception handling. That is, the cli catches exceptions, prints an appropriate message to <code>System.err</code> and exits the JVM with a non-zero exit code. If custom exception handling is desired, use <code>executeWithThrows(String[] args)</code> instead and handle thrown exceptions manually.</p>
</div>
<div class="paragraph">
<p>It is worth mentioning that help calls also result in an exception. In that case, CliHats exception handling prints help to <code>System.out</code> and exits the JVM normally with code <code>0</code>. Modelling help calls as an exception enables custom processing of help calls when using <code>executeWithThrows(String[] args)</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_use_case_examples">Use case examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section aims to provide blueprints for common use cases when defining options.</p>
</div>
<div class="sect2">
<h3 id="_receive_a_username">Receive a username</h3>
<div class="paragraph">
<p>Receiving a username from the command-line may be done by declaring an option as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">@Option(necessity = OptionNecessity.PROMPT) String name</pre>
</div>
</div>
<div class="paragraph">
<p>One now may declare the name by providing <code>-n &lt;name&gt;</code> or <code>--name &lt;name&gt;</code>. If not providing the above option, CliHats will ask the user for manual input.</p>
</div>
</div>
<div class="sect2">
<h3 id="_receive_a_password">Receive a password</h3>
<div class="paragraph">
<p>Receiving a password from the command-line and not showing already typed characters, one may declare an option as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">@Option(necessity = OptionNecessity.MASKED_PROMPT) String password</pre>
</div>
</div>
<div class="paragraph">
<p>One now may declare the password by providing <code>-p &lt;name&gt;</code> or <code>--password &lt;name&gt;</code>. If one does not provide the above option, CliHats will ask for manual input, hiding typed characters.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Be aware that CliHats handles user inputs from command-line arguments and from console input as <code>java.lang.String</code>. There are discussions about how to handle sensitive data like passwords regarding immutability of String objects and them remaining accessible in memory until garbage collection is performed. There are arguments to use <code>char[]</code> for password handling in order to minimize the duration in which sensitive data remains in memory by emptying said array. Using <code>java.lang.String</code>, we do not deem the risk too high since a command-line interface is expected to run for several seconds only.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_receive_a_boolean_flag">Receive a boolean flag</h3>
<div class="paragraph">
<p>A simple switch-like option may be defined as follows</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">@Option(flagValue = "true", defaultValue = "false") Boolean flag</pre>
</div>
</div>
<div class="paragraph">
<p>Dropping <code>defaultValue</code> results in passing <code>null</code> to the parameter whenever the flag is not present.</p>
</div>
<div class="paragraph">
<p>Note: CliHats will automatically use a value mapper for some commonly used types like <code>java.lang.Boolean</code>. The specified String values from this example are then transformed using said mapper.</p>
</div>
</div>
<div class="sect2">
<h3 id="_load_file_contents">Load file contents</h3>
<div class="paragraph">
<p>Obtaining some file content as <code>InputStream</code> might look like this:<br>
First define a public mapper class extending <code>AbstractValueMapper</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">InputStreamMapper</span> <span class="directive">extends</span> AbstractValueMapper&lt;<span class="predefined-type">InputStream</span>&gt; {

        <span class="annotation">@Override</span>
        <span class="directive">public</span> <span class="predefined-type">InputStream</span> map(<span class="predefined-type">String</span> filePath) {
            Path p = Path.of(filePath);
            <span class="keyword">if</span> (!Files.isRegularFile(p)) {
                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">IllegalArgumentException</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Path does not point to a regular file </span><span class="delimiter">&quot;</span></span> + p);
            }
            <span class="keyword">try</span> {
                <span class="keyword">return</span> Files.newInputStream(p);
            } <span class="keyword">catch</span> (<span class="exception">IOException</span> e) {
                <span class="keyword">throw</span> <span class="keyword">new</span> UncheckedIOException(<span class="string"><span class="delimiter">&quot;</span><span class="content">Could not create input stream: </span><span class="delimiter">&quot;</span></span> + e.getMessage(), e);
            }
        }

    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, declare an option using the above mapper.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">@Option(mapper = InputStreamMapper.class) InputStream file</pre>
</div>
</div>
<div class="paragraph">
<p>Make sure to close the opened InputStream when processing is done.</p>
</div>
<div class="paragraph">
<p>Alternatively, pass a <code>java.nio.file.Path</code> object to the command method and handle the file processing in your code.</p>
</div>
</div>
<div class="sect2">
<h3 id="_receive_a_list_of_string">Receive a list of String</h3>
<div class="paragraph">
<p>Collecting multiple values into a list argument is possible by defining a suiting mapper.</p>
</div>
<div class="paragraph">
<p>A mapper returning multiple <code>String</code> objects might be defined as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="java"><span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">ListMapper</span> <span class="directive">extends</span> AbstractValueMapper&lt;<span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt;&gt; {

        <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> separator = <span class="string"><span class="delimiter">&quot;</span><span class="content">,</span><span class="delimiter">&quot;</span></span>;

        <span class="annotation">@Override</span>
        <span class="directive">public</span> <span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; map(<span class="predefined-type">String</span> str) {
            <span class="keyword">return</span> <span class="predefined-type">Arrays</span>.stream(str.split(separator))
                    .map(<span class="predefined-type">String</span>::trim)
                    .filter(s -&gt; !s.isEmpty())
                    .collect(Collectors.toList());
        }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, declare an option using the above mapper.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">@Option(mapper = ListMapper.class) List&lt;String&gt; list</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_build_configuration">Build configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>CliHats uses an annotation processor to automatically create Commander, Command and Option objects and registers a <code>Cli</code> object to the <code>CliHats</code> class. Generating the required source code may be configured.</p>
</div>
<div class="sect2">
<h3 id="_logging">Logging</h3>
<div class="paragraph">
<p>CliHats uses Slf4j with the simple provider and one single logger instance named <code>CliHats</code>. You may configure the log level used during processing by adding the JVM argument</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">-Dorg.slf4j.simpleLogger.log.CliHats=&lt;YOUR DESIRED LOG LEVEL&gt;</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-10-01 00:16:41 +0200
</div>
</div>
</body>
</html>